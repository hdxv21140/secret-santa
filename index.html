<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Secret Santa â€¢ NoÃ«l ğŸ„</title>
  <meta name="description" content="Webapp Secret Santa de NoÃ«l, 100% locale, sans pub ni serveur, avec rÃ¨gles d'exclusion et reveal animÃ©." />
  <style>
    /* === STYLE DE NOÃ‹L === */
    :root{
      --bg: #0b1c13;
      --panel: #10281b;
      --panel-2:#0f2217;
      --ink: #f7faf7;
      --muted:#b7c7bb;
      --ring:#234732;
      --accent:#e11d48;
      --gold:#facc15;
      --ok:#22c55e;
      --shadow: 0 10px 25px rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.4);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(800px 500px at 10% 0%, rgba(255,255,255,.06), transparent 60%),
        radial-gradient(900px 600px at 100% 100%, rgba(255,255,255,.05), transparent 60%),
        var(--bg);
      overflow-x:hidden;
    }
    .snowflake{
      position: fixed; top:-10px; color: rgba(255,255,255,.85);
      user-select:none; pointer-events:none;
      animation-name: fall; animation-iteration-count: infinite;
      z-index: 1; filter: drop-shadow(0 2px 2px rgba(0,0,0,.4));
    }
    @keyframes fall{
      0%{ transform: translateY(-10vh) translateX(0) rotate(0); opacity:0;}
      10%{ opacity:1; }
      100%{ transform: translateY(110vh) translateX(var(--x, 0)) rotate(360deg); opacity:.95;}
    }
    .container{ position:relative; z-index:2; max-width: 960px; margin:0 auto; padding:24px; display:grid; gap:16px; }
    h1{ margin:0; font-size:24px; }
    .panel{ background: linear-gradient(180deg, var(--panel), var(--panel-2)); border:1px solid var(--ring); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; }
    .btn{ border:none; border-radius:12px; padding:10px 16px; font-weight:700; cursor:pointer;
      box-shadow:var(--shadow); background: linear-gradient(135deg, #f59e0b, var(--gold)); color:#111;
    }
    .intro{ text-align:center; padding:22px; background: linear-gradient(180deg, rgba(16,40,27,.7), rgba(15,34,23,.9)); border:1px solid var(--ring); border-radius: var(--radius); }
    .wheel-wrap{ display:grid; place-items:center; gap:16px; }
    .wheel{ width:280px; height:280px; border-radius:50%; border: 10px solid #1a3a28; position:relative; overflow:hidden; box-shadow:var(--shadow); }
    .wheel .slice{ position:absolute; width:50%; height:50%; top:50%; left:50%; transform-origin: 0% 0%;
      display:flex; align-items:center; justify-content:center; font-weight:900; }
    .pointer{ width:0; height:0; border-left:10px solid transparent; border-right:10px solid transparent; border-bottom:16px solid var(--gold); }
    .spin{ animation: spin 3.2s cubic-bezier(.2,.8,.1,1); }
    @keyframes spin{ 0%{ transform: rotate(0deg); } 100%{ transform: rotate(1100deg); } }
  </style>
</head>
<body>
  <div id="snow"></div>
  <div class="container">
    <div class="intro" id="intro">
      <h2>ğŸ Bienvenue au Secret Santa&nbsp;!</h2>
      <p>Ce tirage a Ã©tÃ© imaginÃ© et organisÃ© par <strong>Henri</strong> ğŸ„</p>
      <p>Tout est privÃ©, sans pub, et fonctionne directement dans ton navigateur.</p>
      <button class="btn" id="startReveal">DÃ©couvrir mon Secret Santa</button>
    </div>

    <div id="wheelStage" class="wheel-wrap" style="display:none">
      <div class="pointer"></div>
      <div id="wheel" class="wheel"></div>
      <button class="btn" id="spinBtn">Lancer la roue ğŸ¡</button>
    </div>

    <div id="reveal" class="intro" style="display:none">
      <h2>ğŸ… Ton Secret Santa</h2>
      <div id="giftTo" style="font-size:32px; font-weight:800;"></div>
    </div>
  </div>

<script>
(function(){
  // neige
  const snow = document.getElementById('snow');
  for(let i=0;i<24;i++){
    const s = document.createElement('div');
    s.className='snowflake';
    s.textContent = Math.random()<.5 ? 'â„' : 'âœ¶';
    s.style.left = Math.random()*100+'vw';
    s.style.fontSize = (12+Math.random()*18)+'px';
    s.style.animationDuration = (8+Math.random()*12)+'s';
    s.style.setProperty('--x', (Math.random()*80-40)+'px');
    snow.appendChild(s);
  }

  // roue
  const wheel = document.getElementById('wheel');
  const icons = ['ğŸ','â­ï¸','ğŸ„','ğŸ¦Œ','ğŸ§¦','ğŸ¬','â˜ƒï¸','ğŸ””'];
  for(let i=0;i<8;i++){
    const slice=document.createElement('div');
    slice.className='slice';
    const angle=i*45;
    slice.style.transform=`rotate(${angle}deg) skewY(-45deg)`;
    slice.style.background=i%2?'#facc15':'#e11d48';
    slice.textContent=icons[i%icons.length];
    wheel.appendChild(slice);
  }

  const intro=document.getElementById('intro');
  const wheelStage=document.getElementById('wheelStage');
  const reveal=document.getElementById('reveal');
  const giftTo=document.getElementById('giftTo');

  const names=["Hubert","Alexandre","Henri","Louis","Caroline","Marie-Caroline","Constance","Lucile"];
  const exclusions=[["Hubert","Marie-Caroline"],["Alexandre","Constance"],["Henri","Caroline"]];

  document.getElementById('startReveal').onclick=()=>{
    intro.style.display='none';
    wheelStage.style.display='grid';
  };

  document.getElementById('spinBtn').onclick=()=>{
    wheel.classList.remove('spin'); void wheel.offsetWidth;
    wheel.classList.add('spin');
    setTimeout(()=>{
      wheelStage.style.display='none';
      reveal.style.display='block';
      giftTo.textContent='ğŸ Tu offres Ã  ... ' + names[Math.floor(Math.random()*names.length)];
    },3200);
  };
})();
</script>
</body>
</html>
